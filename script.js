const quizContent = [
   {
      "title": 'Que veut dire l\'expression : MVT ?',
      "id": 1,
      "suggestions": [
         {
            "one": "Une expédition internationale visant à explorer une île déserte pour y établir des bases scientifiques et commerciales",
            "two": "Veut dire déplacer l’argent d’une agence a une autre dans une même ville, soit d’une ville a une autre, soit encore d’une agence à une banque ou vice versa(1)",
            "three": "Une architecture utilisée dans le framework Django, où le modèle gère les données, la vue traite la logique et le template gère l\'affichage",
            "for": "Une abréviation courante pour \'mouvement\', souvent utilisée dans des contextes liés à la physique ou à la cinématique"
         }
      ],
      "correctAnswer": 1
   },
   {
      "title": 'Que veut dire l\'expression : Mission de service ?',
      "id": 2,
      "suggestions": [
         {
            "one": "Expression utilisé pour désigner une opération effectuée sur un compte bancaire, comme un débit ou un crédit Par exemple, un relevé de compte affiche les MVT pour lister les transactions",
            "two": "Un programme militaire ultra-secret dédié à l’entraînement de robots pour accomplir des tâches à haut risque en territoire hostile",
            "three": "Inclus tout déplacement du travailleur dans le cadre du travail pour une longue ou courte durée sur un chemin long ou court(1)",
            "for": "Un projet organisé par un groupe d’amis pour créer une chaîne de restauration rapide spécialisée dans les plats exotiques"
         }
      ],
      "correctAnswer": 2
   },
   {
      "title": 'Que veut dire l\'expression : Au service ?',
      "id": 3,
      "suggestions": [
         {
            "one": "Une technique utilisée par les joueurs de tennis pour améliorer leur précision lorsqu’ils frappent la balle au début d’un match",
            "two": "Au boulot, au travail ou en train de travailler ; soit le trajet nécessaire pour atteindre le lieu du travail(1)",
            "three": "Une ancienne coutume médiévale où les chevaliers devaient chanter des poèmes à table pour divertir les seigneurs et les dames",
            "for": "Un département secret dans les entreprises qui fabrique des gadgets pour les agents secrets, comme dans les films d’espionnage"
         }
      ],
      "correctAnswer": 2
   },
   {
      "title": 'Que veut dire l\'expression : Locale ? ',
      "id": 4,
      "suggestions": [
         {
            "one": "Ce qui est relatif à un endroit spécifique ou une zone géographique limitée, souvent utilisé pour désigner des particularités ou des éléments propres à une région précise",
            "two": "Une technique musicale du XVIIIe siècle qui consistait à imiter les sons de la nature pour créer une ambiance régionale",
            "three": "Une ancienne danse ancestrals pratiquée exclusivement sous la pleine lune dans certaines régions isolées",
            "for": "L’endroit où se trouve notre activité ou notre bureau (bureau, agence, alimentation, magasin ou toute pièce comprenant les biens et matériaux(1)"
         }
      ],
      "correctAnswer": 3
   },
   {
      "title": "Que veut dire l\'expression : Comité directeur ? ",
      "id": 5,
      "suggestions": [
         {
            "one": "Un groupe de bénévoles chargé de nettoyer les parcs municipaux et de planter des arbres dans les zones urbaines",
            "two": "Une organisation secrète qui conçoit les règles des jeux de société populaires, comme celui-ci pour aider les employés dans la culture de l\'entreprise",
            "three": "Un groupe restreint de personnes ayant pour mission de définir les grandes orientations et de prendre des décisions dans le but de s\'auto - satisfaire",
            "for": "L’ensemble des quatre dirigeants de l’entreprise dont, la mission est de définir les grandes orientations et de prendre des décisions stratégiques au sein de entreprise(1)"
         }
      ],
      "correctAnswer": 3
   },
   {
      "title": "Que veut dire l\'expression : Salongo ? ",
      "id": 5,
      "suggestions": [
         {
            "one": "Salongo est un terme en espagnol signifiant ( liberté ) et est souvent utilisé pour exprimer un sentiment d'indépendance personnelle lors de vacances ensoleillées.",
            "two": "Salongo désigne une danse traditionnelle congolaise pratiquée lors des grandes fêtes de carnaval, où les danseurs forment des cercles en portant des costumes colorés.",
            "three": "Salongo est un mot utilisé en gastronomie pour désigner un type de pain très populaire en Italie, fabriqué à partir de farine de seigle et cuit dans un four à bois.",
            "for": "Salongo designe les heures heddomadaire de travail manuel ou des travaux organisés, dans les cités et tout les endroits public tout les Samedis"
         }
      ],
      "correctAnswer": 3
   },
   {
      "title": "Que veut dire l\'expression : Direction ? ",
      "id": 5,
      "suggestions": [
         {
            "one": "Direction est un terme militaire qui fait référence à l'ordonnance secrète donnée par un général avant chaque bataille, visant à déstabiliser l'ennemi psychologiquement.",
            "two": "L’ensemble des quatre dirigeants de l’entreprise dont, la mission est de définir les grandes orientations et de prendre des décisions stratégiques au sein de entreprise(1)",
            "three": "Direction est une danse originaire d'Indonésie, pratiquée en groupe, où les participants bougent leurs bras et leurs jambes en suivant des signes donnés par un meneur de danse.",
            "for": "Peut designer un seul responsable du departement concerner ou tous les membres qui travaillent à la direction generale "
         }
      ],
      "correctAnswer": 3
   },
   {
      "title": "Qui est le Directeur Genrale de notre entreprise ? ",
      "id": 5,
      "suggestions": [
         {
            "one": "Monsieur Baudoin Wa ngoie",
            "two": "Monsieur Patrick Kibila",
            "three": "Monsieur Deo Hamboleo",
            "for": "Monsieur Jonathan Monkila"
         }
      ],
      "correctAnswer": 1
   },
   {
      "title": "Que veut dire l\'expression : ONG ? ",
      "id": 5,
      "suggestions": [
         {
            "one": "ONG est un acronyme pour (Organisations de Nouveaux Groupes), un réseau de collectifs informels qui se sont formés pour lutter contre la mondialisation économique.",
            "two": "ONG signifie (Opérateurs de Négociation Globale), un groupe d'entreprises internationales qui travaillent ensemble pour réguler le commerce mondial et réduire les barrières tarifaires.",
            "three": "ONG désigne une catégorie d'organisations en France qui se consacrent exclusivement à la gestion des ressources naturelles et à la reforestation dans les zones rurales.",
            "for": "ONG est un acronyme pour (Organisation non-gouvernementale )"
         }
      ],
      "correctAnswer": 3
   },
   {
      "title": "Que veut dire l\'expression : Mineur ? ",
      "id": 5,
      "suggestions": [
         {
            "one": "Mineur désigne un type de métal rare utilisé dans la fabrication des composants électroniques, qui est extrait des profondeurs marines par des robots spécialisés.",
            "two": "Mineur est un terme utilisé dans l'industrie musicale pour désigner un genre de musique folk, caractérisé par des instruments traditionnels comme le banjo et la mandoline.",
            "three": "Mineur est une ancienne méthode de navigation maritime qui consistait à utiliser des pierres précieuses extraites des mines pour déterminer la position du navire à l'aide de leurs propriétés magnétiques.",
            "for": "Tout enfant garcon ou fille qui a moins de 18 ans d'âge"
         }
      ],
      "correctAnswer": 3
   }
]

const first_screen = document.querySelector('#first_screen');
const second_screen = document.querySelector('#second_screen');
const correctAnswer = quizContent.correctAnswer
let btn_start = document.querySelector('#btn_start');
let view_quiz = document.querySelector('#view_quiz');
let showResult = document.querySelector('#showResult');
let increm_quiz = document.querySelector('#increm_quiz');
let allQuiz = quizContent.length;
let currentQuestionIndex = 0;
let compteur = 0;
let score = 0;

increm_quiz.textContent = '0/' + allQuiz;

view_quiz.textContent = ''
btn_start.addEventListener('click', function () {
   first_screen.style.display = 'none';
   second_screen.style.display = 'block';
   displayQuestion()
})

function displayQuestion() {
   if (currentQuestionIndex < quizContent.length) {
      const question = quizContent[currentQuestionIndex];
      view_quiz.textContent = question.title;
      const options = Object.values(question.suggestions[0]);
      document.querySelectorAll('.btn_quiz').forEach((btn, index) => {
         btn.textContent = options[index];
         btn.onclick = () => handleAnswer(index);
      });
   } else {
      endQuiz();
   }
}


function handleAnswer(selectedIndex) {

   const question = quizContent[currentQuestionIndex];
   const correctAnswer = question.correctAnswer;

   if (selectedIndex === correctAnswer) {
      score += 1;
   }
   console.log(`Réponse sélectionnée : ${selectedIndex}, Bonne réponse : ${correctAnswer}`);

   compteur += 1;

   increm_quiz.textContent = `${compteur} / ${allQuiz}`;

   currentQuestionIndex++;
   displayQuestion();
}

function endQuiz() {
   showResult.textContent = score
   document.querySelector('.overlay').style.display = 'block';
   document.querySelector('.modal').style.display = 'block';
   document.querySelectorAll('.btn_quiz').forEach((btn) => {
      btn.style.display = 'none';
      second_screen.style.display = 'none';
      btn.onclick = null;
   });

}


function closeModal() {
   document.querySelector('.overlay').style.display = 'none';
   document.querySelector('.modal').style.display = 'none';
}

